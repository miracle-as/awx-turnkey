## The AWX turnkey installer 

###Tips
sudo iptables -A POSTROUTING -o wlp3s0 -j MASQUERADE -t nat

kubectl exec --stdin --tty awx-miracle-bfc979bcb-g8fpv -c awx-miracle-web --  bash

irpm.scl.spec
[root@centos8scl SPECS]# history 
    1  ls -rtl
    2  cd /tmp/
    3  ls -rlt
    4  ls -rtl
    5  ls -rlt
    6  ls -rtl
    7  python3 download.pip.py 
    8  vi download.pip.py 
    9  cat awxrpm.requirements.txt 
   10  vi download.pip.py 
   11  python3 download.pip.py 
   12  vi +25 download.pip.py 
   13  python3 download.pip.py 
   14  vi +25 download.pip.py 
   15  python3 download.pip.py 
   16  vi +25 download.pip.py 
   17  python3 download.pip.py 
   18  pip install requirements-parser
   19  yum install python3-pip
   20  pip install requirements-parser
   21  pip3 install requirements-parser
   22  python3 download.pip.py 
   23  vi +25 download.pip.py 
   24  python3 download.pip.py 
   25  vi +25 download.pip.py 
   26  python3 download.pip.py 
   27  vi +25 download.pip.py 
   28  pip._internal
   29  python -m pip install --upgrade pip
   30  python3 -m pip install --upgrade pip
   31  vi +25 download.pip.py 
   32  python3 download.pip.py 
   33  vi +25 download.pip.py 
   34  python3 download.pip.py 
   35  vi +25 download.pip.py 
   36  python3 download.pip.py 
   37  vi +25 download.pip.py 
   38  python3 download.pip.py 
   39  vi +25 download.pip.py 
   40  python3 download.pip.py 
   41  ls -rtlæ
   42  ls -rtl
   43  mkdir packages
   44  ls -rtl
   45  python3 download.pip.py 
   46  ls -rlt
   47  ls packages/
   48  vi +25 download.pip.py 
   49  python3 download.pip.py 
   50  vi +25 download.pip.py 
   51  cat awxrpm.requirements.txt 
   52  vi +25 download.pip.py 
   53  python3 download.pip.py 
   54  vi +25 download.pip.py 
   55  python3 download.pip.py 
   56  vi +25 download.pip.py 
   57  python3 download.pip.py 
   58  vi +25 download.pip.py 
   59  python3 download.pip.py 
   60  python3 download.pip.py  fiule
   61  vi +25 download.pip.py 
   62  python3 download.pip.py  fiule
   63  python3 download.pip.py  awxrpm.requirements.txt 
   64  vi +25 download.pip.py 
   65  python3 download.pip.py  awxrpm.requirements.txt 
   66  vi +25 download.pip.py 
   67  vi +50 download.pip.py 
   68  vi +25 download.pip.py 
   69  python3 download.pip.py  awxrpm.requirements.txt 
   70  vi +25 download.pip.py 
   71  python3 download.pip.py  awxrpm.requirements.txt 
   72  vi +25 download.pip.py 
   73  python3 download.pip.py  awxrpm.requirements.txt 
   74  vi +25 download.pip.py 
   75  python3 download.pip.py  awxrpm.requirements.txt 
   76  vi +25 download.pip.py 
   77  python3 download.pip.py  awxrpm.requirements.txt 
   78  vi +25 download.pip.py 
   79  python3 download.pip.py  awxrpm.requirements.txt 
   80  vi +25 download.pip.py 
   81  python3 download.pip.py  awxrpm.requirements.txt 
   82  vi +25 download.pip.py 
   83  vi +52 download.pip.py 
   84  vi +25 download.pip.py 
   85  vi +52 download.pip.py 
   86  python3 download.pip.py  awxrpm.requirements.txt 
   87  vi +52 download.pip.py 
   88  python3 download.pip.py  awxrpm.requirements.txt 
   89  vi +52 download.pip.py 
   90  python3 download.pip.py  awxrpm.requirements.txt 
   91  vi +52 download.pip.py 
   92  python3 download.pip.py  awxrpm.requirements.txt 
   93  vi +52 download.pip.py 
   94  python3 download.pip.py  awxrpm.requirements.txt 
   95  vi +52 download.pip.py 
   96  python3 download.pip.py  awxrpm.requirements.txt 
   97  vi +52 download.pip.py 
   98  python3 download.pip.py  awxrpm.requirements.txt 
   99  vi +52 download.pip.py 
  100  python3 download.pip.py  awxrpm.requirements.txt 
  101  vi +52 download.pip.py 
  102  python3 download.pip.py  awxrpm.requirements.txt 
  103  vi +52 download.pip.py 
  104  python3 download.pip.py  awxrpm.requirements.txt 
  105  vi +52 download.pip.py 
  106  python3 download.pip.py  awxrpm.requirements.txt 
  107  vi +52 download.pip.py 
  108  python3 download.pip.py  awxrpm.requirements.txt 
  109  vi +52 download.pip.py 
  110  python3 download.pip.py  awxrpm.requirements.txt 
  111  vi +52 download.pip.py 
  112  python3 download.pip.py  awxrpm.requirements.txt 
  113  vi +50 download.pip.py 
  114  python3 download.pip.py  awxrpm.requirements.txt 
  115  vi +50 download.pip.py 
  116  python3 download.pip.py  awxrpm.requirements.txt 
  117  mkdir packages/adal
  118  cd packages/adal
  119  ls
  120  cd ..
  121  d ..
  122  cd ..
  123  ls
  124  vi download.pip.py 
  125  vi awxrpm.requirements.txt 
  126  vi download.pip.py 
  127  python3 download.pip.py  awxrpm.requirements.txt 
  128  vi download.pip.py 
  129  python3 download.pip.py  awxrpm.requirements.txt 
  130  vi download.pip.py 
  131  python3 download.pip.py  awxrpm.requirements.txt 
  132  ls
  133  ls -rlt
  134  cd packages/
  135  ls
  136  rm -r *
  137  /usr/bin/rm -r *
  138  vi download.pip.py 
  139  cd ..
  140  vi download.pip.py 
  141  cd ..
  142  cd tmp/
  143  python3 download.pip.py  awxrpm.requirements.txt 
  144  ls -lrt packages/
  145  vi download.pip.py 
  146  ls -lrt packages/
  147  python3 download.pip.py  awxrpm.requirements.txt 
  148  ls -rlt packages/
  149  /usr/bin/rm -r *
  150  ls
  151  yum install extundelete
  152  extundelete 
  153  extundelete  .
  154  df
  155  extundelete  /dev/vda1
  156  extundelete  /
  157  extundelete  /dev/vda1
  158  mount
  159  mount -
  160  xfsundelete  /dev/vda1
  161  xfs_undelete  /dev/vda1
  162  yum install xfs:'undelete
  163  yum install xfs_undelete
  164  git clone https://github.com/ianka/xfs_undelete.git
  165  cd xfs_undelete/
  166  ls
  167  ./xfs_undelete 
  168  ./xfs_undelete  /tmp
  169  yum install tclsh
  170  yum search  tclsh
  171  vi xfs_undelete
  172  tclsh
  173  yum search  tclsh
  174  cp /home/cloud-user/tclsh /usr/bin/
  175  ls
  176  ./xfs_undelete 
  177  cp /home/cloud-user/tclsh /usr/lib
  178  ./xfs_undelete 
  179  cp /home/cloud-user/libtcl8.6.so /usr/lib
  180  ./xfs_undelete 
  181  find / |grep \.so$
  182  cp /home/cloud-user/libtcl8.6.so /usr/lib64
  183  ./xfs_undelete 
  184  yum search tcl
  185  yum install tcllib.noarch
  186  ./xfs_undelete 
  187  find / -name init.tcl
  188  cp /usr/share/tcl8.6/init.tcl /usr/local/lib/tcl8.6
  189  find / -name init.tcl
  190  rm /usr/local/lib/tcl8.6
  191  mkdir /usr/local/lib/tcl8.6
  192  cp /usr/share/tcl8.6/init.tcl /usr/local/lib/tcl8.6
  193  find / -name init.tcl
  194  ./xfs_undelete 
  195  find / -name init.tcl
  196  vi /usr/local/lib/tcl8.6/init.tcl
  197  find / -name init.tcl
  198  ./xfs_undelete 
  199  d
  200  cd
  201  cd /tmp/
  202  ls
  203  exit
  204  ls -lrt /etc/rpm/macros.dist 
  205  cat  /etc/rpm/macros.dist 
  206  cd /tmp/awx
  207  cd packages/
  208  cd sc
  209  cd scl/
  210  ls
  211  l s-rtl
  212  ls -rtl
  213   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  214  vi zipp.scl.spec 
  215  scl
  216  yum search scl
  217  yum install scl-utils
  218  yum install scl-utils-build
  219   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  220   rpmbuild -ba miracle-awxrpm-19.1.1.spec 
  221  vi miracle-awxrpm-19.1.1.spec 
  222   rpmbuild -ba miracle-awxrpm-19.1.1.spec 
  223   rpmbuild -ba miracle-awxrpm-19.1.1.spec  --define  'scl awxrpm'
  224  vi miracle-awxrpm1.7 
  225   rpmbuild -ba miracle-awxrpm-19.1.1.spec  --define  'scl awxrpm'
  226   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  227  vi /root/rpmbuild/SOURCES/README
  228   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  229  vi zipp.scl.spec 
  230   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  231  python3 -m venv /tmp/awxrpm
  232  source /tmp/awxrpm/bin/activate
  233  python3 -m venv /tmp/awxrpm
  234  source /tmp/awxrpm/bin/activate
  235  pip install help2man
  236  pip install --upgrade pip
  237  pip install help2man
  238  python3 -m venv /tmp/awxrpm
  239   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  240  yum search help2man
  241   dnf --enablerepo=powertools install help2man
  242   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  243  touch  /root/rpmbuild/SOURCES/LICENSE
  244   rpmbuild -ba zipp.scl.spec --define 'scl zipp' 
  245  ls -rtl
  246  cat miracle-awxrpm1.7 
  247  cd 
  248  cd rpmbuild/BUILD
  249  ls
  250  ls -rtl
  251  cd awxrpm2014-1.0/
  252  ls
  253  cat filelist 
  254  ls -lrt
  255  pwd
  256  ls
  257  cd ..
  258  ls
  259  cd ..
  260  ls
  261  cd RPMS/
  262  ls
  263  cd x86_64/awxrpm2014-
  264  ls -rtl
  265  cd x86_64/
  266  ls
  267  ls -rtl
  268  rpm --install awxrpm2014-1.0-1.el8.x86_64.rpm 
  269  rpm --install awxrpm2014-1.0-1.el8.x86_64.rpm awxrpm2014-runtime-1.0-1.el8.x86_64.rpm 
  270  cd /opt/rh/awxrpm2014/
  271  ls
  272  scl enable 
  273  scl enable list-collections
  274  scl list-collections
  275  scl enable awxrpm2014
  276  scl enable awxrpm2014 uptime
  277  scl enable awxrpm2014 cd
  278  cd /tmp/awx
  279  ls
  280  cd packages/
  281  ls -rtl /usr/local/bin/
  282  ls
  283  ls -rtl /usr/local/bin/
  284  /usr/local/bin/spec2scl 
  285  ls
  286  cd scl/
  287  ls
  288   rpmbuild -ba idna.scl.spec --define 'scl zipp' 
  289   rpmbuild -ba idna.scl.spec --define 'scl idna' 
  290  vi idna.scl.spec 
  291   rpmbuild -ba idna.scl.spec --define 'scl idna' 
  292  rpm --install awxrpm2014-1.0-1.el8.x86_64.rpm awxrpm2014-runtime-1.0-1.el8.x86_64.rpm
  293  rpm --install ~/rpmbuild/RPMS/x86_64/awxrpm2014-*
  294  opwd
  295  pwd
  296   rpmbuild -ba miracle-awxrpm-19.1.1.spec --define 'scl awxrpm
  297   rpmbuild -ba miracle-awxrpm-19.1.1.spec --define 'scl awxrpm'
  298   vi demp.spec
  299  mv demp.spec demo.spex
  300  mv demo.spex demo.spec
  301   rpmbuild -ba demo.spec --define 'scl demo'
  302   vi demp.spec
  303  vi demo.spec 
  304   vi demp.spec
  305   rpmbuild -ba demo.spec --define 'scl demo'
  306   vi demp.spec
  307   vi demo.spec 
  308  vi miracle-awxrpm-19.1.1.spec 
  309  vi adal.scl.spec 
  310   rpmbuild -ba idna.scl.spec --define 'scl idna' 
  311  vi /usr/local/bin/spec2scl 
  312  ls -rtl
  313  which build.specfile.sh
  314  cd /usr/local/bin/
  315  ls
  316  ls -rtl
  317  cat build.specfile.sh 
  318  ./build.specfile.sh 
  319  pip install spec2scl
  320  ./build.specfile.sh 
  321  vi ./build.specfile.sh 
  322  ./build.specfile.sh 
  323  exit
  324  ./build.specfile.sh 
  325  build.specfile.sh 
  326  bash -x build.specfile.sh 
  327  vi /usr/local/bin/build.specfile.sh 
  328  /usr/local/bin/build.specfile.sh
  329  vi /usr/local/bin/build.specfile.sh
  330  cd /tmp/awx
  331  ls
  332  cd packages/
  333  ls
  334  mv scl ..
  335  ls -rtl
  336  /usr/local/bin/build.specfile.sh
  337  ls -rlt
  338  /cat usr/local/bin/build.specfile.sh
  339  cat /usr/local/bin/build.specfile.sh
  340  cd /usr/
  341  cd local/
  342  cd bin/
  343  ls
  344  vi spec2scl 
  345  vi build.specfile.sh 
  346  pip install spec2scl
  347  vi build.specfile.sh 
  348  ls -rt ~/rpmbuild/SPECS/
  349  vi build.specfile.sh 
  350  ls -rt ~/rpmbuild/SPECS/
  351  build.specfile.sh 
  352  vi build.specfile.sh 
  353  build.specfile.sh 
  354  vi build.specfile.sh 
  355  ls -l ~|grep rpm
  356  vi build.specfile.sh 
  357  ls -l ~|grep rpm
  358  vi build.specfile.sh 
  359  ls -l ~|grep rpm
  360  build.specfile.sh 
  361  vi +29 build.specfile.sh 
  362  build.specfile.sh 
  363  vi +26 build.specfile.sh 
  364  build.specfile.sh 
  365  vi +26 build.specfile.sh 
  366  build.specfile.sh 
  367  vi +26 build.specfile.sh 
  368  build.specfile.sh 
  369  vi +26 build.specfile.sh 
  370  build.specfile.sh 
  371  vi +26 build.specfile.sh 
  372  build.specfile.sh 
  373  vi +26 build.specfile.sh 
  374  build.specfile.sh 
  375  vi +26 build.specfile.sh 
  376  spec2scl
  377  vi +26 build.specfile.sh 
  378  spec2scl 
  379  spec2scl
  380  build.specfile.sh 
  381  vi +26 build.specfile.sh 
  382  build.specfile.sh 
  383  vi +26 build.specfile.sh 
  384  build.specfile.sh 
  385  vi +26 build.specfile.sh 
  386  build.specfile.sh 
  387  vi +26 build.specfile.sh 
  388  build.specfile.sh 
  389  vi +26 build.specfile.sh 
  390  build.specfile.sh 
  391  vi +26 build.specfile.sh 
  392  build.specfile.sh 
  393  vi +26 build.specfile.sh 
  394  build.specfile.sh 
  395  vi +26 build.specfile.sh 
  396  build.specfile.sh 
  397  vi +26 build.specfile.sh 
  398  build.specfile.sh 
  399  vi +26 build.specfile.sh 
  400  build.specfile.sh 
  401  vi +26 build.specfile.sh 
  402  cd /tmp/scl/
  403  ls
  404  vi adal.scl.spec 
  405  history |grep rpmbui
  406  vi +26 build.specfile.sh 
  407  vi +26 /usr/local/bin/build.specfile.sh 
  408  vi +26 build.specfile.sh 
  409  build.specfile.sh 
  410  vi +26 build.specfile.sh 
  411  vi +26 /usr/local/bin/build.specfile.sh 
  412  Zspec2scl
  413  spec2scl
  414  vi +26 /usr/local/bin/build.specfile.sh 
  415  spec2scl
  416  build.specfile.sh 
  417  vi +26 /usr/local/bin/build.specfile.sh 
  418  build.specfile.sh 
  419  vi +26 /usr/local/bin/build.specfile.sh 
  420  build.specfile.sh 
  421  spec2scl 
  422  history |grep scl
  423  vi +26 /usr/local/bin/build.specfile.sh 
  424  history |grep scl
  425  build.specfile.sh 
  426  cd 
  427  cd rpmbuild/
  428  cd RPMS/
  429  ls
  430  cd x86_64/
  431  ls
  432  rm *
  433  /usr/bin/rm *
  434  cd
  435  build.specfile.sh 
  436  ls ~/rpmbuild/RPMS/
  437  ls ~/rpmbuild/RPMS/x86_64/
  438  vi +26 /usr/local/bin/build.specfile.sh 
  439  ls -rtl /usr/local/bin/
  440  cp /home/cloud-user/define_scl_dependcy.sh.j2 /usr/local/bin/define_scl_dependcy.sh
  441  define_scl_dependcy.sh
  442  sudo chmod 755 /usr/local/bin/define_scl_dependcy.sh
  443  define_scl_dependcy.sh
  444  build.specfile.sh 
  445  vi /usr/local/bin/build.specfile.sh 
  446  build.specfile.sh 
  447  /usr/bin/rm -r /root/rpmbuild/*
  448  define_scl_dependcy.sh
  449  build.specfile.sh 
  450  vi /usr/local/bin/build.specfile.sh 
  451  build.specfile.sh 
  452  vi /usr/local/bin/build.specfile.sh 
  453  build.specfile.sh 
  454  vi /usr/local/bin/build.specfile.sh 
  455  build.specfile.sh |more
  456  vi /usr/local/bin/build.specfile.sh 
  457  build.specfile.sh |more
  458  vi /usr/local/bin/build.specfile.sh 
  459  build.specfile.sh |more
  460  vi /usr/local/bin/build.specfile.sh 
  461  build.specfile.sh |more
  462  vi /usr/local/bin/build.specfile.sh 
  463  build.specfile.sh |more
  464  vi /usr/local/bin/build.specfile.sh 
  465  build.specfile.sh |more
  466  rm /tmp/scl/*
  467  /usr/bin/rm /tmp/scl/*
  468  rm /tmp/scl/*
  469  build.specfile.sh |more
  470  vi /usr/local/bin/build.specfile.sh 
  471  build.specfile.sh |more
  472  vi /usr/local/bin/build.specfile.sh 
  473  build.specfile.sh |more
  474  vi /usr/local/bin/build.specfile.sh 
  475  build.specfile.sh |more
  476  vi /usr/local/bin/build.specfile.sh 
  477  build.specfile.sh |more
  478  vi /usr/local/bin/build.specfile.sh 
  479  build.specfile.sh |more
  480  rpmbuild -ba /tmp/scl/daphne.scl.spec --define scl awxrpm
  481  rpmbuild -ba /tmp/scl/daphne.scl.spec --define "scl awxrpm"
  482  vi /tmp/scl/daphne.scl.spec
  483  rpmbuild -ba /tmp/scl/daphne.scl.spec --define "scl awxrpm"
  484  touch /root/rpmbuild/SOURCES/LICENSE
  485  rpmbuild -ba /tmp/scl/daphne.scl.spec --define "scl awxrpm"
  486  touch /root/rpmbuild/SOURCES/README:
  487  rpmbuild -ba /tmp/scl/daphne.scl.spec --define "scl awxrpm"
  488  touch /root/rpmbuild/SOURCES/README
  489  rpmbuild -ba /tmp/scl/daphne.scl.spec --define "scl awxrpm"
  490  cd /tmp/
  491  cd sc
  492  cd scl
  493  ls
  494  vi adal.scl.spec 
  495  rpmbuild -ba /tmp/scl/ada1.scl.spec --define "scl awxrpm"
  496  ls adal.scl.spec 
  497  rpmbuild -ba /tmp/scl/ada1.scl.spec --define "scl awxrpm"
  498  rpmbuild -ba /tmp/scl/adal.scl.spec 
  499  rpmbuild -ba /tmp/scl/ada1.scl.spec --define "scl awxrpm"
  500  rpmbuild -ba /tmp/scl/adal.scl.spec 
  501  rpmbuild -ba /tmp/scl/adal.scl.spec  --define "scl awxrpm"
  502  cd /root/rpmbuild/RPMS/
  503  ls
  504  cd x86_64/
  505  ls
  506  ls -rtl
  507  rpm --instaææ awxrpm2014-runtime-1.0-1.el8.x86_64.rpm 
  508  rpm --install awxrpm2014-runtime-1.0-1.el8.x86_64.rpm 
  509  vi /usr/local/bin/build.specfile.sh 
  510  pef
  511  pwd
  512  cd /tmp/scl/
  513  ls
  514  vi adal.scl.spec 
  515  vi async-timeout.scl.spec 
  516  vi /usr/local/bin/build.specfile.sh 
  517  spec2scl 
  518  cd /tmp/awx
  519  cd packages/
  520  ls
  521  cd adal/
  522  ls
  523  cd adal-1.2.2
  524  ls
  525  cd 
  526  '
  527  ls 
  528  ls
  529  pwd
  530  cat convertspecfiles 
  531  ./convertspecfiles 
  532  cd /tmp/scl
  533  æls
  534  ls
  535  vi autobahn.scl.spec 
  536  spec2scl 
  537  cd 
  538  cd rpmbuild/SPECS/
  539  ls
  540  vi adal.spec 
  541  spec2scl adal.spec 
  542  vi /usr/local/bin/build.specfile.sh 
  543  spec2scl adal.spec   > test.scl.spec
  544  rpmbuild -ba  test.scl.spec --define "scl awxrpm"
  545  vi /usr/local/bin/build.specfile.sh 
  546  build.specfile.sh 
  547  vi /usr/local/bin/build.specfile.sh 
  548  build.specfile.sh 
  549  vi /usr/local/bin/build.specfile.sh 
  550  build.specfile.sh 
  551  vi /usr/local/bin/build.specfile.sh 
  552  ls -rtl
  553  vi test.scl.spec 
  554  vi awxrpm.scl.spec
  555  rpmbuild -ba  awxrpm.scl.spec 
  556  vi awxrpm.scl.spec
  557  rpmbuild -ba  awxrpm.scl.spec 
  558  vi awxrpm.scl.spec
  559  rpmbuild -ba  awxrpm.scl.spec 
  560  vi awxrpm.scl.spec
  561  rpmbuild -ba  awxrpm.scl.spec 
  562  ls -rtl
  563  rpmbuild -ba test.scl.spec
  564  build.specfile.sh 
  565  vi /usr/local/bin/build.specfile.sh 
  566  build.specfile.sh 
  567  vi /usr/local/bin/build.specfile.sh 
  568  build.specfile.sh  |head
  569  /root/rpmbuild/RPMS/x86_64/
  570  cd /root/rpmbuild/RPMS/
  571  ls
  572  yum install createrepo
  573  createrepo
  574  createrepo .
  575  ls -rtl
  576  vi /etc/yum.repos.d/localdir.repo
  577  build.specfile.sh  |head
  578  yum-builddep /tmp/scl/adal.scl.spec 
  579  build.specfile.sh  |head
  580  rum install awxrpm-runtime
  581  yum install awxrpm-runtime
  582  build.specfile.sh  |head
  583  define_scl_dependcy.sh 
  584  ls -rlt /usr/local/bin/
  585  exit
  586  cd rpmbuild/
  587  ls
  588  cd SPECS/
  589  ls
  590  ls -rtl
  591  history 

